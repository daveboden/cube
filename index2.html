<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="cuber/build/styles/cube.css">
    <link rel="stylesheet" type="text/css" href="cuber/examples/basic/styles/base.css">
    <script charset="utf-8" src="cuber/build/cuber.js"></script>
    <script charset="utf-8" src="https://code.jquery.com/jquery-2.1.3.js"></script>
    <title></title>

    <script charset="utf-8" src="cuber/src/scripts/extras/controls/locked.js"></script>
    <script charset="utf-8" src="cuber/src/scripts/extras/renderers/iecss3d.js"></script>
    <script charset="utf-8" src="cuber/src/scripts/extras/renderers/ierenderer.js"></script>

    <script src="custom.js"></script>

    <script type="text/javascript">
        $(function() {
            resetCube();
        });

        function resetCube() {
            var ua = navigator.userAgent;
            var isIe = ua.indexOf('MSIE') > -1 || ua.indexOf('Trident/') > -1;

            window.cube = new ERNO.Cube({
                hideInvisibleFaces: true,
                controls: ERNO.Locked,
                renderer: isIe ? ERNO.renderers.IeCSS3D : null
            });

            //Keep the green centre at the top when shuffling
            cube.shuffleMethod = "RrLlUuDdBbFf";

            var fixedOrientation = new THREE.Euler(  Math.PI * 0.1, Math.PI * +0.13, 0 );
            cube.object3D.lookAt( cube.camera.position );
            cube.rotation.x += fixedOrientation.x;
            cube.rotation.y += fixedOrientation.y;
            cube.rotation.z += fixedOrientation.z;

            $("div.cube").remove();

            var g = new ERNO.Group()
            g.add(cube.cubelets[2], cube.cubelets[8], cube.cubelets[20], cube.cubelets[26]);
            immediateSetOpacity(g, 0.1);

            cube.addEventListener("onTwistComplete", function() {
                //Fires when changeCube() is complete

                cube.removeEventListener("onTwistComplete", this);

                document.getElementById('container').appendChild( cube.domElement );


                var solved = isGreenFaceSolved();
                var colorOfBar = solved ? "palegreen" : "orangered";
                $("#progressBar").css("backgroundColor", colorOfBar);
                $("#progressBar").text(solved ? "Green cross is solved" : "Solve the green cross first");
            }, false);

            cube.twist("z");
            //var zTwist = new ERNO.Twist("Z");
            //cube.immediateTwist(zTwist);

        }

        function clockFaceAlgorithm() {
            cube.twist("FRUruf");
        }

        function rightHandAlgorighm() {
            cube.twist("RUUruRuru");
        }
    </script>

</head>
<body class="graydient">
<div id="progressBar" style="width: 100%; height: 30px; font-size: x-large; text-align: center; color: black; padding-top: 10px"></div>
<div>
    <p style="font-size: large">
    <input type="button" style="font-size: x-large" onclick="resetCube()" value="Reset cube">
    <input type="button" style="font-size: x-large" onclick="cube.shuffle()" value="Shuffle cube">
    <input type="button" style="font-size: x-large" onclick="clockFaceAlgorithm()" value="Clock Face algorithm">
    <input type="button" style="font-size: x-large" onclick="rightHandAlgorighm()" value="Right Hand algorithm">
    <span style="padding-left: 20px">Use your keyboard: (left, right, up, down, front, back) (l L r R u U d D f F b B) and whole cube (x X y Y z Z)</span>
    </p>
</div>
<div id="container" ></div>
</body>
</html>